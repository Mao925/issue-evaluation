<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ターゲット数の推定プロンプトジェネレーター</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* 基本フォント設定 */
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #0f172a; /* ダークな背景色 (slate-900) */
        }
        /* ガラスのような質感（グラスモーフィズム）のためのスタイル */
        .glass-card {
            background: rgba(30, 41, 59, 0.5); /* 半透明の背景 (slate-800/50) */
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* テキストのグラデーション */
        .text-gradient {
            background-image: linear-gradient(to right, #34d399, #60a5fa);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        /* フェードインアニメーション */
        .fade-in {
            animation: fadeIn 0.7s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* コピー成功メッセージのスタイル */
        .message-box {
            transition: opacity 0.3s, transform 0.3s;
        }
        /* テキストエリアのフォーカス時のリングエフェクト */
        .focus-ring-gradient:focus {
            outline: 2px solid transparent;
            outline-offset: 2px;
            box-shadow: 0 0 0 3px rgba(52, 211, 153, 0.6); /* emerald-500相当 */
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-300">

    <div class="container mx-auto max-w-4xl p-4 sm:p-6 md:p-8 min-h-screen flex flex-col justify-center">
        
        <header class="text-center mb-10 fade-in">
            <h1 class="text-4xl sm:text-5xl font-bold text-gradient mb-3">ターゲット数の推定プロンプトジェネレーター</h1>
            <p class="text-slate-400 text-lg">データに基づき、事業のポテンシャルを明らかにします。</p>
        </header>

        <main class="glass-card p-6 sm:p-8 rounded-2xl shadow-2xl shadow-emerald-900/20 space-y-8 fade-in" style="animation-delay: 0.2s;">

            <!-- Step 1: How to Use -->
            <section id="how-to-use">
                <div class="flex items-start gap-4 sm:gap-6">
                    <div class="flex-shrink-0 border-2 border-emerald-500/50 text-emerald-400 rounded-full h-10 w-10 flex items-center justify-center font-bold text-lg shadow-inner shadow-emerald-900/50">1</div>
                    <div>
                        <h2 class="text-2xl font-bold text-slate-100 mb-4">使い方ガイド</h2>
                        <div class="space-y-5 text-slate-300">
                            <div>
                                <h3 class="font-semibold text-slate-200 mb-2 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                                    推奨AIモデル
                                </h3>
                                <p>このプロンプトは、データ分析と論理的思考に優れたAIモデルで最高の性能を発揮します。</p>
                                <ul class="list-disc list-inside mt-2 pl-2 space-y-1 text-slate-400">
                                    <li><strong>Google: Gemini 2.5 Pro</strong></li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="font-semibold text-slate-200 mb-2 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd" /></svg>
                                    利用フロー
                                </h3>
                                <ol class="list-decimal list-inside mt-2 pl-2 space-y-1 text-slate-400">
                                    <li>下の入力欄に、調査したい「問題」を具体的に入力します。</li>
                                    <li>「プロンプトを生成」ボタンで、AIへの指示文が完成します。</li>
                                    <li>「コピー」ボタンで指示文をコピーし、AIに貼り付けて実行します。</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <hr class="border-slate-700/80">

            <!-- Step 2: Input Problem -->
            <section id="input-section">
                <div class="flex items-start gap-4 sm:gap-6">
                    <div class="flex-shrink-0 border-2 border-emerald-500/50 text-emerald-400 rounded-full h-10 w-10 flex items-center justify-center font-bold text-lg shadow-inner shadow-emerald-900/50">2</div>
                    <div>
                        <h2 class="text-2xl font-bold text-slate-100 mb-3">調査したい問題を入力</h2>
                        <label for="problemInput" class="block text-sm font-medium text-slate-400 mb-2">「誰が、いつ、どこで、〇〇したいが、〇〇できない」形式で入力してください。</label>
                        <textarea id="problemInput" rows="4" class="w-full p-4 bg-slate-900/70 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-500 transition duration-150 focus-ring-gradient" placeholder="例： 中小企業の経営者が、新規事業を検討する際、オフィスで、自社の業界の市場規模やトレンドを素早く把握したいが、高価な調査レポートを買う予算がない。"></textarea>
                        <button id="generateBtn" class="mt-4 w-full sm:w-auto inline-flex items-center justify-center px-8 py-3 bg-gradient-to-r from-emerald-600 to-teal-700 text-white font-bold rounded-lg shadow-lg hover:shadow-emerald-500/40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-emerald-500 transition-all duration-300 transform hover:scale-105">
                            <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15a.75.75 0 01-.75-.75zM3.75 6a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15A.75.75 0 013.75 6zm0 12a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15a.75.75 0 01-.75-.75z" />
                            </svg>
                            プロンプトを生成
                        </button>
                    </div>
                </div>
            </section>

            <hr class="border-slate-700/80">

            <!-- Step 3: Output -->
            <section id="output-section" class="hidden">
                <div class="flex items-start gap-4 sm:gap-6">
                    <div class="flex-shrink-0 border-2 border-emerald-500/50 text-emerald-400 rounded-full h-10 w-10 flex items-center justify-center font-bold text-lg shadow-inner shadow-emerald-900/50">3</div>
                    <div>
                        <h2 class="text-2xl font-bold text-slate-100 mb-3">生成されたプロンプト</h2>
                        <div class="relative">
                            <pre class="w-full bg-slate-900 border border-slate-700 rounded-lg p-4 pr-14 text-sm text-slate-300 overflow-x-auto whitespace-pre-wrap"><code id="promptOutput"></code></pre>
                            <button id="copyBtn" title="コピーする" class="absolute top-3 right-3 p-2 bg-slate-700/80 text-slate-400 rounded-lg hover:bg-slate-600/80 hover:text-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-emerald-500">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Copy Success Message -->
    <div id="messageBox" class="message-box fixed bottom-5 left-1/2 -translate-x-1/2 bg-gradient-to-r from-green-500 to-teal-500 text-white py-2 px-5 rounded-full shadow-lg opacity-0 -translate-y-5 pointer-events-none">
        コピーしました！
    </div>

    <script>
        const problemInput = document.getElementById('problemInput');
        const generateBtn = document.getElementById('generateBtn');
        const outputSection = document.getElementById('output-section');
        const promptOutput = document.getElementById('promptOutput');
        const copyBtn = document.getElementById('copyBtn');
        const messageBox = document.getElementById('messageBox');

        const promptTemplate = `
# 役割（Role）
あなたは、日本の市場を専門とする経験豊富なマーケットリサーチャー兼データアナリストです。公的機関の統計データ、信頼性の高い調査会社のレポート、業界ニュースなど、多角的な情報源を基に、特定の「問題」から考えられるターゲットセグメントを複数定義し、その市場規模（人数）、および既存の代替手段と課題を客観的かつ論理的に分析することを得意とします。

# 背景（Context）
私は現在、新規事業のアイデアを検証する初期段階にいます。最初のステップとして、解決したい「問題」の潜在的な市場規模、つまり、その問題を抱えているターゲットが日本にどのくらい存在するのかを、客観的なデータに基づいて把握したいと考えています。 また、彼らが現状その問題をどのように解決しようとしているのか、そしてなぜ完全に満足できていないのかを理解することで、事業の提供価値を明確にしたいです。

# タスク（Task）
これから提示する「調査したい問題」に基づき、以下のステップに従って、考えられるターゲット市場規模の分析レポートを作成してください。

1.  **問題の分析とターゲット要素の抽出**：
    まず、問題定義文の「誰が」の部分を分析し、ターゲットとなりうる中心的な属性（例：中小企業の経営者）を抽出してください。

2.  **ターゲットセグメントの提案**：
    次に、抽出した中心属性を軸に、市場規模を推定するために有効な、複数の具体的な「ターゲットセグメント」を3つ程度提案してください。これらのセグメントは、異なる切り口（例：従業員規模、業種、地域など）で定義し、なぜそのセグメントが有望と考えられるのか、簡単な理由も添えてください。

3.  **各セグメントの詳細分析**：
    提案した各セグメントについて、以下の2点を分析してください。
    * **現状の代替手段と未解決の課題**： ターゲットが現在、当該問題を解決するために利用しているであろう具体的なサービス名や手段を挙げ、それらでは解決しきれていない点（例：価格、機能、使いやすさなど）を明確に記述してください。
    * **市場規模（人数）の推定**： ターゲットとなるおおよその人数を、信頼できる情報源を基に論理的に推定してください。計算ロジックと出典は必ず明記してください。

4.  **サマリーと総合評価**：
    最後に、算出した各セグメントの推定人数と、そのセグメントの総合的な魅力を評価するサマリー表を作成してください。
    総合魅力度評価は、5点を平均とし、1から10の10段階で評価してください。この評価は、単純な人数の多さだけでなく、**「問題の切実さ（ペインの強さ）」「支払い意欲の高さ」「アプローチのしやすさ」**なども考慮した、あなたの専門家としての総合的な判断を反映させてください。
    各セグメントの評価の根拠を簡潔に説明してください。

# 調査したい問題
以下の形式に沿って、調査したい問題を具体的に記述してください。この「誰が」の部分が市場規模を推定する上での出発点となります。

* **形式**： 「（誰が）、（いつ）、（どこで）、〇〇したいが、〇〇できない」
* **記述欄**： {{PROBLEM}}

# 出力形式（Format）
必ず日本語で、以下のマークダウン形式に沿って、構造化されたレポートとして出力してください。
数値データには、必ず情報源の名称と公開年、可能であればURLを「(出典：〇〇、△△年)」の形式で明記してください。
プロフェッショナルなトーンを保ちつつ、ビジネスプランニングの初心者が直感的に理解できるよう、平易な言葉で記述してください。

---
# ターゲット市場規模の分析レポート

## 1. 問題の分析とターゲット要素の抽出
* **対象問題**： {{PROBLEM}}
* **中心的なターゲット要素**： 上記の問題定義文における「誰が」に該当するのは、「（問題から抽出したターゲット）」です。この要素を軸に、市場規模を分析します。

## 2. 推定のためのターゲットセグメント提案
「（中心的なターゲット要素）」という広い括りの中から、特に問題のペインが強いと考えられる、具体的で測定可能なセグメントを3つ提案します。

* **セグメントA**： （例：IT・情報通信業に従事する、従業員10名未満の小規模事業者の経営者）
    * **提案理由**： （例：IT業界は変化が激しく情報収集ニーズが高い一方、小規模事業者は調査にかけるリソースが特に限られていると考えられるため。）
* **セグメントB**： （例：設立5年以内のスタートアップ企業の経営者）
    * **提案理由**： （例：新規事業展開や資金調達のために市場調査が不可欠だが、コスト意識が非常に高いため。）
* **セグメントC**： （例：地方都市（三大都市圏以外）に本社を置く、製造業の中小企業経営者）
    * **提案理由**： （例：情報へのアクセスが都心部より限定的であり、安価で迅速な情報収集手段への潜在的ニーズが高いと考えられるため。）

## 3. 各セグメントの詳細分析

### 【セグメントA：(セグメントAの定義を記載)】
* **現状の代替手段と未解決の課題**：
    * **代替手段**： （例：SPEEDA、帝国データバンク、業界紙、手作業でのWeb検索）
    * **未解決の課題**： （例：SPEEDAは高機能だが高価すぎる。帝国データバンクは信用調査が主目的。業界紙やWeb検索は情報が断片的で、体系的な分析に時間がかかりすぎる。）
* **市場規模推定**：
    1.  **マクロデータ**： 日本の中小企業数：XXX社 (出典：中小企業庁「中小企業白書」、202X年)
    2.  **絞り込み条件1（業種）**：
        * **根拠データ**： 全企業のうち「IT・情報通信業」の割合はX.X% (出典：総務省「経済センサス」、202X年)
        * **計算**： XXX社 × X.X% ≈ YYY社
    3.  **絞り込み条件2（従業員規模）**：
        * **根拠データ**： IT・情報通信業のうち「従業員10名未満」の割合はXX% (出典：〇〇調査、202X年)
        * **計算**： YYY社 × XX% ≈ ZZZ社
    * **推定ターゲット人数**： **約ZZZ人** (※1社に経営者1人と仮定)

### 【セグメントB：(セグメントBの定義を記載)】
* **現状の代替手段と未解決の課題**：
    * **代替手段**： （具体的なサービス名や手段を記載）
    * **未解決の課題**： （解決できていない点を記載）
* **市場規模推定**：
    * **計算ロジックと出典を明記**
    * **推定ターゲット人数**： **約WWW人** (※1社に経営者1人と仮定)

### 【セグメントC：(セグメントCの定義を記載)】
* **現状の代替手段と未解決の課題**：
    * **代替手段**： （具体的なサービス名や手段を記載）
    * **未解決の課題**： （解決できていない点を記載）
* **市場規模推定**：
    * **計算ロジックと出典を明記**
    * **推定ターゲット人数**： **約VVV人** (※1社に経営者1人と仮定)

## 4. サマリーと総合評価

| セグメント | 定義 | 推定ターゲット人数 | 総合魅力度 (/10) |
| :--- | :--- | :--- | :--- |
| **A** | (セグメントAの定義) | 約ZZZ人 | (評価点) |
| **B** | (セグメントBの定義) | 約WWW人 | (評価点) |
| **C** | (セグメントCの定義) | 約VVV人 | (評価点) |

* **総合評価の根拠**：
    * **セグメントA (評価：X/10)**： （例：人数は中程度だが、既存サービスの価格と機能のミスマッチが大きく、明確なペインが存在するため。）
    * **セグメントB (評価：Y/10)**： （例：人数は最も少ないものの、事業成長に市場調査が直結するため、最も切実なニーズを持つ層と考えられる。多少高価でも投資する可能性があり、最も魅力的なセグメントと評価する。）
    * **セグメントC (評価：Z/10)**： （例：ターゲット人数は最も多く魅力的だが、ITリテラシーや新しいサービスへの感度にばらつきが大きい可能性があり、アプローチの難易度を考慮して平均的な評価とした。）

# 制約・指示（Constraints）
* **ファクトベース**： 必ず公開されている信頼性の高い情報源に基づいて回答してください。架空の数値や、根拠のない推測で数値を生成することは絶対に避けてください。
* **思考プロセスの透明性**： 「なぜそのデータを使ったのか」「なぜそのように計算したのか」という思考のプロセスを必ず記述してください。
* **情報源の明記**： すべての数値データについて、出典を厳密に記載してください。
* **総合評価の客観性**： 総合魅力度評価は、あなたの専門的知見に基づくものですが、その評価に至った理由（市場規模、ペインの強さ、アプローチのしやすさ等）を必ず明記し、客観的に理解できるよう努めてください。
* **不明確な点**： もし、推定に必要なデータが見つからない、または複数の解釈が可能で判断に迷う場合は、安易に結論を出さず、「〇〇のデータが不足しているため、この部分は仮説となります」のように、ユーザーに注意を促す形で回答してください。
`.trim();

        generateBtn.addEventListener('click', () => {
            const problem = problemInput.value.trim();
            if (problem) {
                const finalPrompt = promptTemplate.replace(/{{PROBLEM}}/g, problem);
                promptOutput.textContent = finalPrompt;
                if(outputSection.classList.contains('hidden')) {
                    outputSection.classList.remove('hidden');
                    // 初回生成時のみアニメーション
                    outputSection.classList.add('fade-in');
                }
                outputSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
            } else {
                problemInput.focus();
                problemInput.classList.add('animate-shake');
                setTimeout(() => {
                    problemInput.classList.remove('animate-shake');
                }, 500);
            }
        });

        copyBtn.addEventListener('click', () => {
            const textToCopy = promptOutput.textContent;
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(textToCopy).then(showCopyMessage).catch(err => {
                    fallbackCopyTextToClipboard(textToCopy);
                });
            } else {
                fallbackCopyTextToClipboard(textToCopy);
            }
        });

        function showCopyMessage() {
            messageBox.style.opacity = '1';
            messageBox.style.transform = 'translate(-50%, 0)';
            setTimeout(() => {
                messageBox.style.opacity = '0';
                messageBox.style.transform = 'translate(-50%, -20px)';
            }, 2000);
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.top = "-9999px";
            textArea.style.left = "-9999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                if(document.execCommand('copy')) showCopyMessage();
            } catch (err) {
                console.error('フォールバックコピーに失敗: ', err);
            }
            document.body.removeChild(textArea);
        }

        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes shake {
                10%, 90% { transform: translateX(-1px); }
                20%, 80% { transform: translateX(2px); }
                30%, 50%, 70% { transform: translateX(-4px); }
                40%, 60% { transform: translateX(4px); }
            }
            .animate-shake {
                animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
